<!doctype html>
<html lang="en">

<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<link href="https://cdn.bootcss.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet">
		<link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
		<script src="https://cdn.bootcss.com/bootstrap/4.1.1/js/bootstrap.bundle.min.js"></script>
		<link rel="stylesheet" href="theme.css" type="text/css"> 
	<title>查看成绩</title>
	<style>
		@font-face
            {
                font-family: myfont;
                src:url('__ROOT__/static/font/Grade.ttf');
            }
		select
			{
				border-radius: 15px;
				outline: none;
				box-shadow:  0 2.5px 5px -1px black;
				font-weight: bold;
			}
		select:hover
		{
			font-style: italic;
		}
			#student
			{
				margin-left: 22%;
				margin-bottom: 2%;
			}
			#major
			{
				margin-left: 3%;
				margin-bottom: 2%;
			}
			#course
			{
				margin-left: 5%;
				margin-bottom: 2%;
			}
			#teacher
			{
				margin-left: 2%;
				margin-bottom: 2%;
			}
	</style>
	<link href="https://cdn.bootcss.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet">
	<link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
	<script src="https://cdn.bootcss.com/bootstrap/4.1.1/js/bootstrap.bundle.min.js"></script>
	<script src="https://code.jquery.com/jquery-3.2.1.js" crossorigin="anonymous"></script>

	<script type="text/javascript">
        $(document).ready(function() {
			$("#major").change(function() {
                self.location.href="?major_id="+$(this).val();
            });
			$("#course").change(function() {
                self.location.href="?course_id="+$(this).val();
            });
			$("#teacher").change(function() {
                self.location.href="?tea_id="+$(this).val();
            });
			$("#student").change(function() {
                self.location.href="?stu_id="+$(this).val();
            });

            var currentorderby = "{$orderby}";
            var currentorderway = "{$orderway}";
            $("th").click(function() {
                if ($(this).attr("id")) {
                    var colid = $(this).attr("id");
                    if (colid==currentorderby) {
                        if (currentorderway=="desc") //如果是升序，转为降序
                            self.location.href = "?orderby="+colid+"&orderway=asc";
                        else //如果是降序，取消当前排序
                            self.location.href = "?"

                    }
                    else 
                        self.location.href = "?orderby="+colid;
                }
            })
        })
    </script>

	<script>
		var btn = document.getElementById("btn");

		btn.onclick = function () {
			var width = window.screen.width;
			var height = window.screen.height;
			var elem = document.getElementById("div1");
			requestFullScreen(elem);
		}

		function requestFullScreen(element) {
			if (element.requestFullscreen) {
				element.requestFullscreen();
			}
			//FireFox
			else if (element.mozRequestFullScreen) {
				element.mozRequestFullScreen();
			}
			//Chrome等
			else if (element.webkitRequestFullScreen) {
				element.webkitRequestFullScreen();
			}
			//IE11
			else if (element.msRequestFullscreen) {
				element.msRequestFullscreen();
			}
		};
	</script>
</head>

<body>
		{include file="Mark/heads"/}\
		<div class="container" style=" height:452px;">
				<div class="row">
					<div class="offset-md-1 col-md-10">
							
	<h1 style="font-family:myfont;font-size: 50px">Grades Information</h1>

	<select name="student" id="student">
			{volist name="student" id="s" }   
			<option value="{$s.stu_id}">{$s.stu_name}</option>
			{/volist}   
	</select>

	<select name="major" id="major" >
			{volist name="major" id="m" }   
			<option value="{$m.major_id}">{$m.major_name}</option>
			{/volist}   
	</select>

	<select name="course" id="course">
			{volist name="course" id="c" }   
			<option value="{$c.course_id}">{$c.course_name}</option>
			{/volist}   
	</select>

	<select name="teacher" id="teacher">
			{volist name="teacher" id="t" }   
			<option value="{$t.tea_id}">{$t.tea_name}</option>
			{/volist}   
	</select>

	
	<table class="table table-striped table-hover">
		<thead>
			<tr>
				<th>\</th>
				<th id="stu_rollno">学号<i class="fa fa-fw fa-sort-amount-desc"></i><i class="fa fa-fw fa-sort-amount-asc"></i></th>
				<th id="stu_name">学生姓名<i class="fa fa-fw fa-sort-amount-desc"></i><i class="fa fa-fw fa-sort-amount-asc"></i></th>
				<th id="major_name">专业名称<i class="fa fa-fw fa-sort-amount-desc"></i><i class="fa fa-fw fa-sort-amount-asc"></i></th>
				<th id="course_name">课程名称<i class="fa fa-fw fa-sort-amount-desc"></i><i class="fa fa-fw fa-sort-amount-asc"></i></th>
				<th id="tea_name">教师姓名<i class="fa fa-fw fa-sort-amount-desc"></i><i class="fa fa-fw fa-sort-amount-asc"></i></th>
				<th id="mark">成绩<i class="fa fa-fw fa-sort-amount-desc"></i><i class="fa fa-fw fa-sort-amount-asc"></i></th>
			</tr>
		</thead>

		{volist name="markTable" id="mark" }
		<tr>
			<td>{$i}</td>
			<td>{$mark.stu_rollno}</td>
			<td>{$mark.stu_name}</td>
			<td>{$mark.major_name}</td>
			<td>{$mark.course_name}</td>
			<td>{$mark.tea_name}</td>
			<td class="{if $mark.mark >= 75}table-success 
                    {elseif $mark.mark < 75 && $mark.mark >= 60}table-warning
                    {else}table-danger{/if}">{$mark.mark}</td>
		</tr>
		{/volist}
	</table>
	{$markTable->render()}
	</div>
	</div>
	</div>
	{include file="Mark/footer"/}
</body>

</html>